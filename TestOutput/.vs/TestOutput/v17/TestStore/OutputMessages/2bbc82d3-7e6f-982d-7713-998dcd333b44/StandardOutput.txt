Start Endpoint test for route: api/customers
[08:00:08 INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[08:00:08 INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[app].[__MigrationsHistory]');
[08:00:08 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [app].[__MigrationsHistory]
ORDER BY [MigrationId];
[08:00:08 INF] Request starting HTTP/1.1 POST http://localhost/api/customers - application/json; charset=utf-8 154
[08:00:08 INF] REQ starting HTTP POST /api/customers
[08:00:08 WRN] Failed to determine the https port for redirect.
[08:00:08 INF] Executing endpoint 'TestOutput.Presentation.Web.Controllers.CustomersController.PostAsync (TestOutput.Presentation)'
[08:00:08 INF] Route matched with {action = "Post", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TestOutput.Presentation.CustomerModel]] PostAsync(TestOutput.Presentation.CustomerModel, System.Threading.CancellationToken) on controller TestOutput.Presentation.Web.Controllers.CustomersController (TestOutput.Presentation).
[08:00:08 INF] CMD processing (type=CustomerCreateCommand, id=6afc000035c1286b312008dc6f241da6, handler=CustomerCreateCommandHandler)
[08:00:08 INF] DOM repository: upsert (type=Customer, id=null)
[08:00:08 INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 128), @p2='?' (Size = 512), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Customers] ([Id], [FirstName], [LastName], [Email])
VALUES (@p0, @p1, @p2, @p3);
[08:00:08 INF] CMD processed (type=CustomerCreateCommand, id=6afc000035c1286b312008dc6f241da6) -> took 184.0000 ms
[08:00:08 INF] Executing CreatedAtRouteResult, writing value of type 'TestOutput.Presentation.CustomerModel'.
[08:00:08 INF] Executed action TestOutput.Presentation.Web.Controllers.CustomersController.PostAsync (TestOutput.Presentation) in 257.8303ms
[08:00:08 INF] Executed endpoint 'TestOutput.Presentation.Web.Controllers.CustomersController.PostAsync (TestOutput.Presentation)'
[08:00:08 INF] REQ finished HTTP POST /api/customers [201] -> took 277.9757 ms
[08:00:08 INF] Request finished HTTP/1.1 POST http://localhost/api/customers - 201 null application/json; charset=utf-8 359.5417ms
[08:00:08 INF] Request starting HTTP/1.1 PUT http://localhost/api/customers/18b0d92e-47ce-4014-b390-c128a8dc10a0 - application/json; charset=utf-8 231
[08:00:08 INF] REQ starting HTTP PUT /api/customers/18b0d92e-47ce-4014-b390-c128a8dc10a0
[08:00:08 INF] Executing endpoint 'TestOutput.Presentation.Web.Controllers.CustomersController.PutAsync (TestOutput.Presentation)'
[08:00:08 INF] Route matched with {action = "Put", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TestOutput.Presentation.CustomerModel]] PutAsync(TestOutput.Presentation.CustomerModel, System.String, System.Threading.CancellationToken) on controller TestOutput.Presentation.Web.Controllers.CustomersController (TestOutput.Presentation).
[08:00:08 INF] CMD processing (type=CustomerUpdateCommand, id=6afc000035c1286b3fca08dc6f241dcc, handler=CustomerUpdateCommandHandler)
[08:00:08 INF] DOM repository: findone (type=Customer, id=6afc0000-35c1-286b-3fca-08dc6f241dcc)
[08:00:09 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FirstName], [c].[LastName], [c].[Email]
FROM [Customers] AS [c]
WHERE [c].[Id] = '6afc0000-35c1-286b-3fca-08dc6f241dcc'
[08:00:09 INF] CMD processed (type=CustomerUpdateCommand, id=6afc000035c1286b3fca08dc6f241dcc) -> took 202.0000 ms
[08:00:09 INF] Executed action TestOutput.Presentation.Web.Controllers.CustomersController.PutAsync (TestOutput.Presentation) in 223.0758ms
[08:00:09 INF] Executed endpoint 'TestOutput.Presentation.Web.Controllers.CustomersController.PutAsync (TestOutput.Presentation)'
[08:00:09 ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at TestOutput.Presentation.Web.Controllers.CustomersController.PutAsync(CustomerModel model, String id, CancellationToken cancellationToken) in C:\_projects\bit\bIT.bITdevKit.Examples.GettingStarted\src\Presentation\Web\Controllers\CustomersController.cs:line 52
   at lambda_method147(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
[08:00:09 INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
[08:00:09 ERR] REQ finished HTTP PUT /api/customers/18b0d92e-47ce-4014-b390-c128a8dc10a0 [500] -> took 274.5824 ms
[08:00:09 INF] Request finished HTTP/1.1 PUT http://localhost/api/customers/18b0d92e-47ce-4014-b390-c128a8dc10a0 - 500 null application/problem+json; charset=utf-8 276.2871ms
Finish Endpoint test for route: api/customers (status=500)
